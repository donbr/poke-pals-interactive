graph TB
    subgraph "Presentation Layer (Client)"
        UI[React Components]
        Pages[Next.js Pages]
        ClientComp[Client Components]
        ServerComp[Server Components]
    end

    subgraph "Business Logic Layer (API Routes)"
        ChatAPI["/api/llm/chat"]
        QuizAPI["/api/llm/quiz"]
        StoryAPI["/api/llm/story"]
        QueryAPI["/api/llm/query-pokeapi"]
        HintsAPI["/api/llm/game-hints"]
        ColorAPI["/api/llm/color-prompt"]
        FunFactAPI["/api/llm/fun-fact"]
    end

    subgraph "Data/Infrastructure Layer"
        PokeAPI[PokeAPI REST API]
        OpenAI[OpenAI GPT-5-nano]
        LocalStorage[Browser LocalStorage]
    end

    UI --> Pages
    Pages --> ClientComp
    Pages --> ServerComp

    ClientComp --> ChatAPI
    ClientComp --> QuizAPI
    ClientComp --> StoryAPI
    ClientComp --> QueryAPI
    ClientComp --> HintsAPI
    ClientComp --> ColorAPI
    ClientComp --> FunFactAPI

    ChatAPI --> OpenAI
    QuizAPI --> OpenAI
    StoryAPI --> OpenAI
    QueryAPI --> OpenAI
    HintsAPI --> OpenAI
    ColorAPI --> OpenAI
    FunFactAPI --> OpenAI

    ClientComp --> PokeAPI
    ClientComp --> LocalStorage

    style UI fill:#ff6ec7,stroke:#333,color:#fff
    style Pages fill:#ff6ec7,stroke:#333,color:#fff
    style ClientComp fill:#ff6ec7,stroke:#333,color:#fff
    style ChatAPI fill:#4ecdc4,stroke:#333
    style QuizAPI fill:#4ecdc4,stroke:#333
    style StoryAPI fill:#4ecdc4,stroke:#333
    style PokeAPI fill:#95e1d3,stroke:#333
    style OpenAI fill:#95e1d3,stroke:#333